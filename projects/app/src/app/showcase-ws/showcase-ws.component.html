<div class='container' #container></div>

<!-- Filters Bar -->
<app-filters-bar
  [counts]="filterCounts()"
  [totalCount]="allPhotos().length"
  [filteredCount]="filteredPhotos().length"
  [showViewToggle]="false"
  [initialState]="filterState()"
  (filtersChange)="onFilterChange($event)">
</app-filters-bar>

<app-qrcode [small]='qrSmall()' [url]='qrUrl()'></app-qrcode>
<div class='logo'>
</div>

<!-- Layout Selection Controls -->
<div class='controls-container'>
  <!-- Layout Selection Tab -->
  <div class='control-tab layout-tab'>
    <div class='tab-background'>
      <div class='selection-indicator' 
           [style.transform]='getLayoutIndicatorTransform()'></div>
    </div>
    <div class='tab-buttons'>
      <button 
        class='tab-button layout-button'
        [class.active]='currentLayout() === "grid"'
        (click)='switchToGridLayout()'
        title='Grid Layout'>
        <svg viewBox='0 0 24 24' class='button-icon'>
          <text x='12' y='16' text-anchor='middle' font-family='Arial, sans-serif' font-weight='bold' font-size='14'>G</text>
        </svg>
      </button>
      <button 
        class='tab-button layout-button'
        [class.active]='currentLayout() === "tsne"'
        (click)='switchToTsneLayout()'
        title='TSNE Layout'>
        <svg viewBox='0 0 24 24' class='button-icon'>
          <text x='12' y='16' text-anchor='middle' font-family='Arial, sans-serif' font-weight='bold' font-size='14'>T</text>
        </svg>
      </button>
      <button 
        class='tab-button layout-button'
        [class.active]='currentLayout() === "svg"'
        (click)='switchToSvgLayout()'
        title='SVG Layout'>
        <svg viewBox='0 0 24 24' class='button-icon'>
          <text x='12' y='16' text-anchor='middle' font-family='Arial, sans-serif' font-weight='bold' font-size='14'>S</text>
        </svg>
      </button>
      <button 
        class='tab-button layout-button'
        [class.active]='currentLayout() === "circle-packing"'
        (click)='switchToCirclePackingLayout()'
        title='Circle Packing Layout'>
        <svg viewBox='0 0 24 24' class='button-icon'>
          <text x='12' y='16' text-anchor='middle' font-family='Arial, sans-serif' font-weight='bold' font-size='14'>C</text>
        </svg>
      </button>
    </div>
  </div>

  <!-- Showcase Toggle Tab -->
  <div class='control-tab showcase-tab'>
    <div class='tab-background'>
      <div class='showcase-indicator' 
           [class.active]='enableRandomShowcase()'></div>
    </div>
    <div class='tab-buttons'>
      <button 
        class='tab-button showcase-button'
        [class.active]='enableRandomShowcase()'
        (click)='toggleRandomShowcase()'
        title='Toggle Random Showcase'>
        <svg viewBox='0 0 24 24' class='button-icon'>
          <circle cx='12' cy='8' r='2' fill='currentColor'/>
          <circle cx='12' cy='16' r='2' fill='currentColor'/>
          <circle cx='6' cy='12' r='2' fill='currentColor'/>
          <circle cx='18' cy='12' r='2' fill='currentColor'/>
        </svg>
      </button>
    </div>
  </div>
</div>
