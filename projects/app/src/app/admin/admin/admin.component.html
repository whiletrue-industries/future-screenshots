<div class="admin-container">
  <header class="topbar" role="banner">
    <div class="brand">
      <span class="logo" aria-hidden="true">✦</span>
      <h1>MapFutures Admin</h1>
    </div>
    <div class="actions">
      <a routerLink="/admin/new" class="create-workspace-btn" aria-label="Create new workspace">+ add</a>
      <a routerLink="/settings" class="settings" aria-label="Settings">⚙️</a>
    </div>
  </header>

  @if (successMessage()) {
    <div class="success-message" role="status">{{ successMessage() }}</div>
  }

  <app-filters-bar
    [mode]="'admin'"
    [counts]="filterCounts()"
    [totalCount]="workspaces().length"
    [filteredCount]="filteredWorkspaces().length"
    [showViewToggle]="false"
    [initialState]="filterState()"
    (filtersChange)="onFiltersChange($event)"
    (filtersCommit)="onFiltersCommit($event)"
  ></app-filters-bar>

  <div class="workspaces-list" role="list">
    @for (workspace of filteredWorkspaces(); track workspace.id) {
      <app-workspace-item [workspace]="workspace"></app-workspace-item>
    }
  </div>
</div>