<div class="admin-container">
  <header class="topbar" role="banner">
    <div class="brand">
      <span class="logo" aria-hidden="true">✦</span>
      <h1>MapFutures Admin</h1>
    </div>
    <div class="actions">
      <label class="reviewed-toggle" aria-label="Toggle reviewed filter">
        <span>reviewed:</span>
        <input type="checkbox" [checked]="reviewedOnly()" (change)="reviewedOnly.set($any($event.target).checked)" />
      </label>
      <a routerLink="/admin/new" class="create-workspace-btn" aria-label="Create new workspace">+ add</a>
      <a routerLink="/settings" class="settings" aria-label="Settings">⚙️</a>
    </div>
  </header>

  @if (successMessage()) {
    <div class="success-message" role="status">{{ successMessage() }}</div>
  }

  <section class="filters" aria-label="Filters">
    <div class="filter-group">
      <label for="language">Language:</label>
      <select id="language" [value]="languageFilter()" (change)="languageFilter.set($any($event.target).value)">
        <option value="all">all</option>
        <option value="en">English</option>
        <option value="nl">Dutch</option>
        <option value="he">Hebrew</option>
        <option value="ar">Arabic</option>
      </select>
    </div>
    <div class="filter-group">
      <label for="type">Type:</label>
      <div class="chips" id="type" aria-label="Type chips">
        <button type="button" class="chip" aria-pressed="false">AI</button>
        <button type="button" class="chip" aria-pressed="false">Love</button>
        <button type="button" class="chip" aria-pressed="false">Protest</button>
      </div>
    </div>
    <div class="filter-group search">
      <label for="search">Search:</label>
      <input id="search" type="search" placeholder="any text" [value]="searchQuery()" (input)="searchQuery.set($any($event.target).value)" />
    </div>
    <div class="filter-group order">
      <label for="order">Order by:</label>
      <select id="order" [value]="orderBy()" (change)="orderBy.set($any($event.target).value)">
        <option value="date">Date</option>
        <option value="title">Title</option>
      </select>
    </div>
  </section>

  <div class="workspaces-list" role="list">
    @for (workspace of filteredWorkspaces(); track workspace.id) {
      <app-workspace-item [workspace]="workspace"></app-workspace-item>
    }
  </div>
</div>